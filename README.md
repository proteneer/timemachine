[![CircleCI](https://circleci.com/gh/proteneer/timemachine.svg?style=svg&circle-token=d4635916d6394573ebda0aa17a63540bc8b449fc)](https://circleci.com/gh/proteneer/timemachine)

# The Time Machine

Computes exact analytic derivatives of the trajectory with respect to model parameters. With this, one can compute exact parameter derivatives of observables derived from an ensembled generated by a MD trajectory. It has no prior assumptions on the Boltzmann distribution, and should in theory work for non-equilibrium observables as well.

A side benefit is that the library also allows for rapid prototype of novel functional forms via automatic differentiation. It has full support of 1st order gradients, 2nd order hessians and mixed partials. Eventually we'd like to integrate with other packages like ForceBalance (via computation of dO/dk_full) and support OpenMM-like XML files so we can incorporate experimental data to improve underlying physics.

This is not meant to be a replacement for any production MD engine, since it's horrendously slow. For a more detailed explanation of the underlying mathematics, refer to the paper under docs for more information.

# Warning

This code is under heavy development. Expect everything to break every time you pull. An alpha release is anticipated for end of March.

# Supported Functional Forms

We currently support a subset of the standard forcefield:

- Harmonic Bonds (bonded_force.py)
- Harmonic Angles (bonded_force.py)
- CHARMM Torsions (bonded_force.py)
- Ewald Electrostatics (periodic_force.py, nonbonded_force.py)
- Non periodic Leonnard Jones (nonbonded_force.py)
- Tensorfield Networks (nn_force.py)

 Their various derivatives are implemented by their energy functions, whose derivatives of various orders are subsequently generated automatically via reverse-mode automatic differentiation.

# Requirements

Dependencies are easily pip-installable. See requirements.txt for the full list.

# Contributions

If you'd like to contribute, either email Yutong directly via githubusername@gmail.com or find him via the Open Forcefield Slack channel.

# License

Copyright 2019 Yutong Zhao

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.